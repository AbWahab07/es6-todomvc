webpackJsonp([1,3],[function(t,e,o){"use strict";function i(t,e){return(e||document).querySelector(t)}function n(t,e){return(e||document).querySelectorAll(t)}function r(t,e,o,i){t.addEventListener(e,o,!!i)}function a(t,e,o,i){function a(o){var r=o.target,a=n(e,t),l=Array.prototype.indexOf.call(a,r)>=0;l&&i.call(r,o)}var l="blur"===o||"focus"===o;r(t,o,a,l)}function l(t,e){if(t.parentNode)return t.parentNode.tagName.toLowerCase()===e.toLowerCase()?t.parentNode:l(t.parentNode,e)}function c(t,e){var o=t.indexOf(e);return o===-1?t:void t.splice(o,1)}o.d(e,"a",function(){return i}),o.d(e,"b",function(){return n}),o.d(e,"d",function(){return r}),o.d(e,"c",function(){return a}),o.d(e,"e",function(){return l}),o.d(e,"f",function(){return c}),NodeList.prototype.forEach=Array.prototype.forEach},,,,,function(t,e,o){"use strict";function i(t){this.storage=new s.a(t),this.model=new d.a(this.storage),this.template=new u.a,this.view=new l.a(this.template),this.controller=new c.a(this.model,this.view)}function n(){p=new i("todos-vanillajs"),p.controller.setView(document.location.hash),m.forEach(function(t){return t()})}function r(){return p}function a(t){return m.push(t),function(){o.i(f.f)(m,t)}}var l=o(13),c=o(9),d=o(10),s=o(11),u=o(12),f=o(0);o.d(e,"c",function(){return n}),o.d(e,"a",function(){return r}),o.d(e,"b",function(){return a});var p=void 0,m=[]},function(t,e,o){"use strict";function i(){if(c)return c.remove(),c=null,d.store(),d.todo(),!1;c=document.createElement("div"),document.body.querySelector(".graph-area-container").appendChild(c);var t=o.i(l.a)(),e=t.storage;return a(c,e),n(),r(e),!0}function n(){d.todo&&d.todo(),d.todo=o.i(l.b)(function(){var t=o.i(l.a)(),e=t.storage;r(e),a(c,e)})}function r(t){d.store&&d.store(),d.store=t.subscribe(function(){a(c,t)})}function a(t,e){o.e(0).then(o.bind(null,19)).then(function(o){var i=o["default"];i(t,e)})}var l=o(5),c=void 0,d={store:null,todo:null};e.a=i},function(t,e){function o(){return"serviceWorker"in navigator&&(window.fetch||"imageRendering"in document.documentElement.style)&&("https:"===window.location.protocol||"localhost"===window.location.hostname)}function i(t){if(t||(t={}),o()){navigator.serviceWorker.register("sw.js")}else if(window.applicationCache){var e="appcache/",i="manifest",n=function(){var t=e+i+".html",o=document.createElement("iframe");o.src=t,o.style.display="none",r=o,document.body.appendChild(o)};return void("complete"===document.readyState?setTimeout(n):window.addEventListener("load",n))}}function n(t,e){}var r;e.install=i,e.applyUpdate=n},function(t,e,o){var i=o(16);"string"==typeof i&&(i=[[t.i,i,""]]);o(4)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,o){"use strict";function i(t,e){var o=this;o.model=t,o.view=e,o.view.bind("newTodo",function(t){o.addItem(t)}),o.view.bind("itemEdit",function(t){o.editItem(t.id)}),o.view.bind("itemEditDone",function(t){o.editItemSave(t.id,t.title)}),o.view.bind("itemEditCancel",function(t){o.editItemCancel(t.id)}),o.view.bind("itemRemove",function(t){o.removeItem(t.id)}),o.view.bind("itemToggle",function(t){o.toggleComplete(t.id,t.completed)}),o.view.bind("removeCompleted",function(){o.removeCompletedItems()}),o.view.bind("toggleAll",function(t){o.toggleAll(t.completed)})}e.a=i,i.prototype.setView=function(t){var e=t.split("/")[1],o=e||"";this._updateFilterState(o)},i.prototype.showAll=function(){var t=this;t.model.read(function(e){t.view.render("showEntries",e)})},i.prototype.showActive=function(){var t=this;t.model.read({completed:!1},function(e){t.view.render("showEntries",e)})},i.prototype.showCompleted=function(){var t=this;t.model.read({completed:!0},function(e){t.view.render("showEntries",e)})},i.prototype.addItem=function(t){var e=this;""!==t.trim()&&e.model.create(t,function(){e.view.render("clearNewTodo"),e._filter(!0)})},i.prototype.editItem=function(t){var e=this;e.model.read(t,function(o){e.view.render("editItem",{id:t,title:o[0].title})})},i.prototype.editItemSave=function(t,e){var o=this;e.trim()?o.model.update(t,{title:e},function(){o.view.render("editItemDone",{id:t,title:e})}):o.removeItem(t)},i.prototype.editItemCancel=function(t){var e=this;e.model.read(t,function(o){e.view.render("editItemDone",{id:t,title:o[0].title})})},i.prototype.removeItem=function(t){var e=this;e.model.remove(t,function(){e.view.render("removeItem",t)}),e._filter()},i.prototype.removeCompletedItems=function(){var t=this;t.model.read({completed:!0},function(e){e.forEach(function(e){t.removeItem(e.id)})}),t._filter()},i.prototype.toggleComplete=function(t,e,o){var i=this;i.model.update(t,{completed:e},function(){i.view.render("elementComplete",{id:t,completed:e})}),o||i._filter()},i.prototype.toggleAll=function(t){var e=this;e.model.read({completed:!t},function(o){o.forEach(function(o){e.toggleComplete(o.id,t,!0)})}),e._filter()},i.prototype._updateCount=function(){var t=this;t.model.getCount(function(e){t.view.render("updateElementCount",e.active),t.view.render("clearCompletedButton",{completed:e.completed,visible:e.completed>0}),t.view.render("toggleAll",{checked:e.completed===e.total}),t.view.render("contentBlockVisibility",{visible:e.total>0})})},i.prototype._filter=function(t){var e=this._activeRoute.charAt(0).toUpperCase()+this._activeRoute.substr(1);this._updateCount(),(t||"All"!==this._lastActiveRoute||this._lastActiveRoute!==e)&&this["show"+e](),this._lastActiveRoute=e},i.prototype._updateFilterState=function(t){t=t.split("?")[0],this._activeRoute=t,""===t&&(this._activeRoute="All"),this._filter(),this.view.render("setFilter",t)}},function(t,e,o){"use strict";function i(t){this.storage=t}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.a=i,i.prototype.create=function(t,e){t=t||"",e=e||function(){};var o={title:t.trim(),completed:!1};this.storage.save(o,e)},i.prototype.read=function(t,e){var o="undefined"==typeof t?"undefined":n(t);return e=e||function(){},"function"===o?(e=t,this.storage.findAll(e)):void("string"===o||"number"===o?(t=parseInt(t,10),this.storage.find({id:t},e)):this.storage.find(t,e))},i.prototype.update=function(t,e,o){this.storage.save(e,o,t)},i.prototype.remove=function(t,e){this.storage.remove(t,e)},i.prototype.removeAll=function(t){this.storage.drop(t)},i.prototype.getCount=function(t){var e={active:0,completed:0,total:0};this.storage.findAll(function(o){o.forEach(function(t){t.completed?e.completed++:e.active++,e.total++}),t(e)})}},function(t,e,o){"use strict";function i(t,e){if(e=e||function(){},this._dbName=t,!localStorage[t]){var o={todos:[]};localStorage[t]=JSON.stringify(o)}e.call(this,JSON.parse(localStorage[t])),this.subscribers=[]}var n=o(0);e.a=i,i.prototype.subscribe=function(t){var e=this;return this.subscribers.push(t),function(){return o.i(n.f)(e.subscribers,t)}},i.prototype._notify=function(){this.subscribers.forEach(function(t){return t()})},i.prototype.find=function(t,e){if(e){var o=JSON.parse(localStorage[this._dbName]).todos;e.call(this,o.filter(function(e){for(var o in t)if(t[o]!==e[o])return!1;return!0}))}},i.prototype.findAll=function(t){t=t||function(){},t.call(this,JSON.parse(localStorage[this._dbName]).todos)},i.prototype.save=function(t,e,o){var i=JSON.parse(localStorage[this._dbName]),n=i.todos;if(e=e||function(){},o){for(var r=0;r<n.length;r++)if(n[r].id===o){for(var a in t)n[r][a]=t[a];break}localStorage[this._dbName]=JSON.stringify(i),e.call(this,JSON.parse(localStorage[this._dbName]).todos)}else t.id=(new Date).getTime(),n.push(t),localStorage[this._dbName]=JSON.stringify(i),e.call(this,[t]);this._notify()},i.prototype.remove=function(t,e){for(var o=JSON.parse(localStorage[this._dbName]),i=o.todos,n=0;n<i.length;n++)if(i[n].id===t){i.splice(n,1);break}localStorage[this._dbName]=JSON.stringify(o),e.call(this,JSON.parse(localStorage[this._dbName]).todos),this._notify()},i.prototype.drop=function(t){localStorage[this._dbName]=JSON.stringify({todos:[]}),t.call(this,JSON.parse(localStorage[this._dbName]).todos),this._notify()}},function(t,e,o){"use strict";function i(){this.defaultTemplate='\n    <li data-id="{{id}}" class="{{completed}}">\n      <div class="view">\n        <input class="toggle" type="checkbox" {{checked}} />\n        <label>{{title}}</label>\n        <button class="destroy"></button>\n      </div>\n    </li>\n  '}e.a=i;var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=function(t){return n[t]},a=/[&<>"'`]/g,l=new RegExp(a.source),c=function(t){return t&&l.test(t)?t.replace(a,r):t};i.prototype.show=function(t){var e,o,i="";for(e=0,o=t.length;e<o;e++){var n=this.defaultTemplate,r="",a="";t[e].completed&&(r="completed",a="checked"),n=n.replace("{{id}}",t[e].id),n=n.replace("{{title}}",c(t[e].title)),n=n.replace("{{completed}}",r),n=n.replace("{{checked}}",a),i+=n}return i},i.prototype.itemCounter=function(t){var e=1===t?"":"s";return"<strong>"+t+"</strong> item"+e+" left"},i.prototype.clearCompletedButton=function(t){return t>0?"Clear completed":""}},function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t){o.i(c.a)(".filters .selected").className="",o.i(c.a)('.filters [href="#/'+t+'"]').className="selected"}function r(t,e){var i=o.i(c.a)('[data-id="'+t+'"]');i&&(i.className=e?"completed":"",o.i(c.a)("input",i).checked=e)}function a(t,e){var i=o.i(c.a)('[data-id="'+t+'"]');if(i){i.className=i.className+" editing";var n=document.createElement("input");n.className="edit",i.appendChild(n),n.focus(),n.value=e}}function l(t){var e=o.i(c.e)(t,"li");return parseInt(e.dataset.id,10)}var c=o(0),d=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),s=function(){function t(e){i(this,t),this.template=e,this.ENTER_KEY=13,this.ESCAPE_KEY=27,this.$todoList=o.i(c.a)(".todo-list"),this.$todoItemCounter=o.i(c.a)(".todo-count"),this.$clearCompleted=o.i(c.a)(".clear-completed"),this.$main=o.i(c.a)(".main"),this.$footer=o.i(c.a)(".footer"),this.$toggleAll=o.i(c.a)(".toggle-all"),this.$newTodo=o.i(c.a)(".new-todo")}return d(t,[{key:"_removeItem",value:function(t){var e=o.i(c.a)('[data-id="'+t+'"]');e&&this.$todoList.removeChild(e)}},{key:"_clearCompletedButton",value:function(t,e){this.$clearCompleted.innerHTML=this.template.clearCompletedButton(t),this.$clearCompleted.style.display=e?"block":"none"}},{key:"_editItemDone",value:function(t,e){var i=o.i(c.a)('[data-id="'+t+'"]');if(i){var n=o.i(c.a)("input.edit",i);i.removeChild(n),i.className=i.className.replace("editing",""),o.i(c.b)("label",i).forEach(function(t){t.textContent=e})}}},{key:"render",value:function(t,e){var o=this,i={showEntries:function(){o.$todoList.innerHTML=o.template.show(e)},removeItem:function(){o._removeItem(e)},updateElementCount:function(){o.$todoItemCounter.innerHTML=o.template.itemCounter(e)},clearCompletedButton:function(){o._clearCompletedButton(e.completed,e.visible)},contentBlockVisibility:function(){o.$main.style.display=o.$footer.style.display=e.visible?"block":"none"},toggleAll:function(){o.$toggleAll.checked=e.checked},setFilter:function(){n(e)},clearNewTodo:function(){o.$newTodo.value=""},elementComplete:function(){r(e.id,e.completed)},editItem:function(){a(e.id,e.title)},editItemDone:function(){o._editItemDone(e.id,e.title)}};i[t]()}},{key:"_bindItemEditDone",value:function(t){var e=this;o.i(c.c)(e.$todoList,"li .edit","blur",function(){this.dataset.iscanceled||t({id:l(this),title:this.value})}),o.i(c.c)(e.$todoList,"li .edit","keypress",function(t){t.keyCode===e.ENTER_KEY&&this.blur()})}},{key:"_bindItemEditCancel",value:function(t){var e=this;o.i(c.c)(e.$todoList,"li .edit","keyup",function(o){o.keyCode===e.ESCAPE_KEY&&(this.dataset.iscanceled=!0,this.blur(),t({id:l(this)}))})}},{key:"bind",value:function(t,e){var i=this;"newTodo"===t?o.i(c.d)(i.$newTodo,"change",function(){e(i.$newTodo.value)}):"removeCompleted"===t?o.i(c.d)(i.$clearCompleted,"click",function(){e()}):"toggleAll"===t?o.i(c.d)(i.$toggleAll,"click",function(){e({completed:this.checked})}):"itemEdit"===t?o.i(c.c)(i.$todoList,"li label","dblclick",function(){e({id:l(this)})}):"itemRemove"===t?o.i(c.c)(i.$todoList,".destroy","click",function(){e({id:l(this)})}):"itemToggle"===t?o.i(c.c)(i.$todoList,".toggle","click",function(){e({id:l(this),completed:this.checked})}):"itemEditDone"===t?i._bindItemEditDone(e):"itemEditCancel"===t&&i._bindItemEditCancel(e)}}]),t}();e.a=s},,,function(t,e,o){e=t.exports=o(3)(),e.push([t.i,".toggle-graph{float:left;margin-left:16px;cursor:pointer;position:relative;z-index:1}.toggle-graph svg{height:20px;width:20px}.toggle-graph svg path{fill:#777}.toggle-graph.active svg path,.toggle-graph:focus svg path,.toggle-graph:hover svg path{fill:#000}",""])},function(t,e,o){"use strict";function i(){o.i(p.c)();var t=document.querySelector(".toggle-graph");o.i(f.d)(t,"click",function(){var e=o.i(m.a)();e?t.classList.add("active"):t.classList.remove("active")})}var n=o(2),r=n&&n.__esModule?function(){return n["default"]}:function(){return n};o.d(r,"a",r);var a=o(1),l=a&&a.__esModule?function(){return a["default"]}:function(){return a};o.d(l,"a",l);var c=o(8),d=c&&c.__esModule?function(){return c["default"]}:function(){return c};o.d(d,"a",d);var s=o(7),u=s&&s.__esModule?function(){return s["default"]}:function(){return s};o.d(u,"a",u);var f=o(0),p=o(5),m=o(6);o.i(s.install)(),o.i(f.d)(window,"load",i),o.i(f.d)(window,"hashchange",p.c)}],[17]);
//# sourceMappingURL=bundle.app.e7dd29070eaa6d1e9d47.js.map